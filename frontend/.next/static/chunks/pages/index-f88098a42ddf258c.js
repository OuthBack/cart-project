(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6138)}])},6138:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return me},default:function(){return xe}});var r=t(5893),i=t(7294),o=t(2125);function u(){var e,n,t=(e=["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding-right: ",";\n    padding-left: ",";\n    padding-top: ",";\n    padding-bottom: ",";\n    background-color: ",";\n    color: ",";\n    outline: 0;\n    border-radius: ",";\n    border-style: none;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return u=function(){return t},t}var c=o.ZP.button(u(),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.colors.button_Background}),(function(e){return e.theme.colors.button_text}),(function(e){return e.theme.borderRadius})),a=function(e){var n=e.text,t=e.onClick;return(0,r.jsx)(c,{onClick:t,children:n})};function s(){var e,n,t=(e=["\n    display: flex;\n    align-items: center;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return s=function(){return t},t}var l=o.ZP.label(s()),f=function(e){var n=e.text;return(0,r.jsx)(l,{children:n})};function d(){var e,n,t=(e=["\n    padding: ",";\n    gap: ",";\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: end;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return d=function(){return t},t}var p=o.ZP.div(d(),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.spacing.md})),m=function(e){var n=e.totalPrice,t=e.buyAction;return(0,r.jsxs)(p,{children:[(0,r.jsx)(f,{text:"Valor Total: R$".concat(n)}),(0,r.jsx)(a,{text:"Pedir",onClick:t})]})};function x(){var e,n,t=(e=[""],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return x=function(){return t},t}var v=o.ZP.h1(x()),h=function(e){var n=e.text;return(0,r.jsx)(v,{children:n})};function b(){var e,n,t=(e=["\n    padding: ",";\n    gap: ",";\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return b=function(){return t},t}var g=o.ZP.div(b(),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.spacing.md})),j=function(){return(0,r.jsx)(g,{children:(0,r.jsx)(h,{text:"Carrinho"})})};function y(){var e,n,t=(e=["\n    padding: ",";\n    border-radius: ",";\n    width: 100%;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return y=function(){return t},t}var w=o.ZP.input(y(),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.borderRadius})),O=function(e){var n=e.placeholder,t=e.value,i=e.onChange;return(0,r.jsx)(w,{placeholder:n,value:t,onChange:function(e){return i(e.target.value)}})};function P(){var e,n,t=(e=["\n    display: flex;\n    gap: ",";\n    width: 100%;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return P=function(){return t},t}var C=o.ZP.div(P(),(function(e){return e.theme.spacing.sm})),S=function(e){var n=e.placeholder,t=e.text,i=e.value,o=e.onChange;return(0,r.jsxs)(C,{children:[(0,r.jsx)(f,{text:t}),(0,r.jsx)(O,{placeholder:n,value:i,onChange:o})]})};function z(){var e,n,t=(e=["\n    width: 100%;\n    border-radius: ",";\n    padding: ",";\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return z=function(){return t},t}var k=o.ZP.select(z(),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.spacing.md})),A=function(e){var n=e.onSelect,t=e.options,i=e.selected,o=e.index;return(0,r.jsx)(k,{value:i,defaultValue:i,onChange:function(e){var t=e.target;return n({index:o,value:parseInt(t.value)})},children:t.map((function(e,n){var t=e.id,i=e.name;return(0,r.jsx)("option",{value:t,children:i},t)}))})};function _(){var e,n,t=(e=["\n    display: flex;\n    align-items: center;\n    gap: ",";\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return _=function(){return t},t}var N=o.ZP.div(_(),(function(e){return e.theme.spacing.sm})),E=function(e){var n=e.count,t=e.increaseCount,i=e.decreaseCount;return(0,r.jsxs)(N,{children:[(0,r.jsx)(a,{onClick:i,text:"<"}),(0,r.jsx)(f,{text:n.toString()}),(0,r.jsx)(a,{onClick:t,text:">"})]})};function Z(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function D(){var e=Z(["\n    display: flex;\n    flex-direction: column;\n    background-color: ",";\n    border-radius: ",";\n    padding: ",";\n"]);return D=function(){return e},e}function R(){var e=Z(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: end;\n    gap: ",";\n    padding: ",";\n"]);return R=function(){return e},e}var V=o.ZP.div(D(),(function(e){return e.theme.colors.background}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.spacing.md})),I=o.ZP.div(R(),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.spacing.sm})),Q=function(e){var n=e.index,t=e.onSelect,i=e.options,o=e.selected,u=e.onRemove,c=e.price,s=e.quantity,l=e.count,d=e.increaseCount,p=e.decreaseCount;return(0,r.jsxs)(V,{children:[(0,r.jsxs)(I,{children:[(0,r.jsx)(A,{index:n,onSelect:t,options:i,selected:o}),(0,r.jsx)(f,{text:"Pre\xe7o: R$".concat(null===c||void 0===c?void 0:c.toString().replace(".",","))}),(0,r.jsx)(f,{text:"Estoque: ".concat(s)}),(0,r.jsx)(a,{text:"X",onClick:u})]}),(0,r.jsxs)(I,{children:[(0,r.jsx)(f,{text:"Quantidade: "}),(0,r.jsx)(E,{increaseCount:d,decreaseCount:p,count:l||0})]})]})};function q(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function T(){var e=q(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: ",";\n"]);return T=function(){return e},e}function F(){var e=q(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n    max-height: 30vh;\n    overflow-y: auto;\n"]);return F=function(){return e},e}var M=o.ZP.form(T(),(function(e){return e.theme.spacing.md})),$=o.ZP.div(F(),(function(e){return e.theme.spacing.md}));function X(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function U(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return X(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return X(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=function(e){var n=e.onSubmit,t=e.onSelect,o=e.onRemove,u=e.selected,c=e.options,s=e.onAdd,l=e.rows,f=e.count,d=e.increaseQuantity,p=e.decreaseQuantity,x=e.totalPrice,v=e.buyAction,h=e.nameValue,b=e.onChangeName,g=e.dateValue,y=e.onChangeDate,w=(0,i.useState)(new Array(l).fill(0)),O=w[0],P=w[1],C=(0,i.useCallback)((function(){return O.map((function(e,n){var i=c.find((function(e){return e.id===u[n]})),a=c.filter((function(e){var n=e.id;return e.qty_stock&&!u.includes(n)}));return(0,r.jsx)(Q,{index:n,onRemove:function(){o(n)},onSelect:t,selected:u[n],options:[i].concat(U(a)),price:i.price,quantity:i.qty_stock,count:f[n],increaseCount:function(){d(n)},decreaseCount:function(){p(n)}},n)}))}),[O]);return(0,i.useEffect)((function(){P((function(e){return O.length<l?U(e).concat([0]):Array(l).fill(0)}))}),[l,P,f,u]),(0,r.jsxs)(M,{onSubmit:n,children:[(0,r.jsx)(j,{}),(0,r.jsx)(S,{text:"Nome do Cliente*: ",placeholder:"Jos\xe9 Maria",value:h,onChange:b}),(0,r.jsx)(S,{text:"Data da Entrega*: ",placeholder:"dd/mm/aaaa",value:g,onChange:y}),(0,r.jsx)($,{children:C()}),l!==c.length&&(0,r.jsx)(a,{text:"+",onClick:s}),(0,r.jsx)(m,{buyAction:v,totalPrice:x})]})},B=t(8833);function G(){var e,n,t=(e=["\n    display: flex;\n    align-items: center;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return G=function(){return t},t}var J=o.ZP.label(G()),Y=function(e){var n=e.text;return(0,r.jsx)("small",{children:(0,r.jsx)(J,{children:n})})},H=function(e){var n=e.title,t=e.subtitle;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f,{text:n}),(0,r.jsx)(Y,{text:t})]})};function K(){var e,n,t=(e=["\n    position: fixed;\n    top: 0;\n    right: 0;\n    width: 320px;\n    height: 80px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    background-color: ",";\n    padding: ",";\n    border-radius: ",";\n    box-shadow: rgb(0 0 0 / 1%) 0px 0px 1px, rgb(0 0 0 / 4%) 0px 4px 8px,\n        rgb(0 0 0 / 4%) 0px 16px 24px, rgb(0 0 0 / 1%) 0px 24px 32px;\n    color: ",";\n    gap: ",";\n    transform: translateX(\n        ","\n    );\n    transition: ease-in-out 0.5s;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return K=function(){return t},t}var W=o.ZP.div(K(),(function(e){return e.theme.notification[e.type]}),(function(e){return e.theme.spacing.xlg}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.colors.button_text}),(function(e){return e.theme.spacing.md}),(function(e){return e.showNotification?"0px":"500px"})),ee=function(){var e=(0,B.lm)(),n=e.message,t=e.title,i=e.type,o=e.showNotification;return(0,r.jsx)(W,{type:i,showNotification:o,children:(0,r.jsx)(H,{title:t,subtitle:n})})};function ne(){var e,n,t=(e=["\n    display: flex;\n    gap: ",";\n    padding: ",";\n    background-color: ",";\n    border: 0;\n    border-radius: ",";\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return ne=function(){return t},t}var te,re=o.ZP.button(ne(),(function(e){return e.theme.spacing.xlg}),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.colors.background}),(function(e){return e.theme.borderRadius}));!function(e){e.PENDING="PENDENTE",e.COMPLETED="CONCLU\xcdDO"}(te||(te={}));var ie=function(e){var n=e.name,t=e.price,i=e.date,o=e.status,u=new Date(Date.parse(i));return(0,r.jsxs)(re,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{text:"Nome: ".concat(n)}),(0,r.jsx)(f,{text:"Valor total: ".concat(u.getDate(),"/").concat(u.getMonth(),"/").concat(u.getFullYear())})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{text:"R$".concat((t/100).toFixed(2).replace(".",","))}),(0,r.jsx)(f,{text:"Status: ".concat(te[o])})]})]})};function oe(){var e,n,t=(e=["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: ",";\n    overflow-y: auto;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return oe=function(){return t},t}var ue=o.ZP.form(oe(),(function(e){return e.theme.spacing.md})),ce=function(e){var n=e.carts;return(0,r.jsx)(ue,{children:n&&n.map((function(e,n){var t=e.client_name,i=e.deliver_date,o=e.value,u=e.status;return(0,r.jsx)(ie,{name:t,date:i,status:u,price:o},n)}))})};function ae(){var e,n,t=(e=["\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    background-color: ",";\n    padding: ",";\n    border-radius: ",";\n    box-shadow: rgb(0 0 0 / 1%) 0px 0px 1px, rgb(0 0 0 / 4%) 0px 4px 8px,\n        rgb(0 0 0 / 4%) 0px 16px 24px, rgb(0 0 0 / 1%) 0px 24px 32px;\n\n    @media only screen and (min-width: 480px) {\n        width: 480px;\n        height: auto;\n        margin: 0 auto;\n        justify-content: center;\n        align-items: center;\n    }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return ae=function(){return t},t}var se=o.ZP.main(ae(),(function(e){return e.theme.colors.background_item}),(function(e){return e.theme.spacing.xlg}),(function(e){return e.theme.borderRadius})),le=function(e){var n=e.onAdd,t=e.onRemove,i=e.onSelect,o=e.onSubmit,u=e.options,c=e.selected,a=e.rows,s=e.count,l=e.increaseQuantity,f=e.decreaseQuantity,d=e.totalPrice,p=e.buyAction,m=e.dateValue,x=e.nameValue,v=e.onChangeDate,h=e.onChangeName,b=e.carts;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(se,{children:[(0,r.jsx)(L,{onAdd:n,onRemove:t,rows:a,onSelect:i,onSubmit:o,options:u,selected:c,count:s,increaseQuantity:l,decreaseQuantity:f,totalPrice:d,buyAction:p,dateValue:m,onChangeDate:v,onChangeName:h,nameValue:x}),(0,r.jsx)(ce,{carts:b})]}),(0,r.jsx)(ee,{})]})},fe=t(1582);function de(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function pe(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return de(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return de(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var me=!0;function xe(e){var n=e.products,t=e.carts,o=(0,i.useState)([n[0].id]),u=o[0],c=o[1],a=(0,i.useState)(1),s=a[0],l=a[1],f=(0,i.useState)([1]),d=f[0],p=f[1],m=(0,i.useState)("0,00"),x=m[0],v=m[1],h=(0,i.useState)(""),b=h[0],g=h[1],j=(0,i.useState)(""),y=j[0],w=j[1],O=(0,fe.jD)().handleCart,P=(0,B.lm)().handleNotification,C=(0,i.useCallback)((function(e){var n=e.index,t=e.value;c((function(e){var r=pe(e);return r[n]=t,r}))}),[c,s]),S=(0,i.useCallback)((function(){var e=n.filter((function(e){var n=e.id;return!u.includes(n)}));c((function(n){return pe(n).concat([e[0].id])})),l((function(e){return e+1})),p((function(e){return pe(e).concat([1])}))}),[n,u,l,c]),z=(0,i.useCallback)((function(e){1!=s&&(c((function(n){return n.filter((function(n,t){return t!==e}))})),l((function(e){return e>0&&e-1})),p((function(n){return n.filter((function(n,t){return t===e}))})))}),[n,u,l,c]),k=(0,i.useCallback)((function(e){var t=n.find((function(n){return n.id===u[e]})).qty_stock;return d[e]<t?p((function(n){var t=pe(n);return t[e]+=1,t})):P({title:"Erro",message:"N\xe3o \xe9 pedir mais produtos",type:"alert"})}),[p,d]),A=(0,i.useCallback)((function(e){return d[e]>1?p((function(n){var t=pe(n);return t[e]-=1,t})):P({title:"Erro",message:"N\xe3o \xe9 possivel pedir menos que 1 item",type:"alert"})}),[p,d]),_=(0,i.useCallback)((function(){var e=n.filter((function(e){return u.includes(e.id)})),t=u.map((function(e,n){return{id:e,ammount:d[n]}})).map((function(n){var t=n.id,r=n.ammount;return e.find((function(e){return e.id===t})).price*r})).reduce((function(e,n){return e+n}));v(t.toFixed(2).replace(".",","))}),[n,u,d]);return(0,i.useEffect)((function(){_()}),[_,n,u,d]),(0,r.jsx)(le,{onAdd:S,onRemove:z,rows:s,onSelect:C,onSubmit:function(e){e.preventDefault()},options:n,selected:u,count:d,increaseQuantity:k,decreaseQuantity:A,totalPrice:x,buyAction:function(){var e=function(e){var n=e.split("/").map((function(e){return parseInt(e)}));return new Date(n[2],n[1],n[0]).getTime()}(b);return e<Date.now()?P({title:"Erro",message:"Data inv\xe1lida",type:"alert"}):y&&e?void O({client_name:y,deliver_date:e,products:u.map((function(e,n){return{id:e,quantity:d[n]}}))}):P({title:"Erro",message:"Por favor, preencha os campos",type:"alert"})},dateValue:b,onChangeDate:function(e){g(e)},nameValue:y,onChangeName:function(e){w(e)},carts:t})}}},function(e){e.O(0,[774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);